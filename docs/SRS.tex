\documentclass[a4paper]{article}

\usepackage[english]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{float}
\usepackage{geometry}

\title{SRS - Software Requirements Specification}
\author{Team 2}

\begin{document}
\begin{titlepage}
\newgeometry{left=2cm,top=1cm,right=2cm}
\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}

\begin{minipage}{0.5\textwidth}
\begin{flushleft} % Responsible persons, write on separate lines
\textit{Responsible for this document:}\\
Oscar Axelsson \\
Daniel Olsson \\
Jacob Mejvik
\end{flushleft}
\end{minipage}
~
\begin{minipage}{0.4\textwidth}
\begin{flushright}
PUSS154212 0.1
\today
\end{flushright}
\end{minipage}\\[3cm]

\centering
\textsc{\LARGE Team 2}\\[0.5cm]

\HRule \\[0.4cm]
{ \huge \bfseries Software Requirements Specification}\\[0.4cm] % Title of your document
\HRule \\[1.5cm]

\vfill
\begin{flushleft}
%Authors, write on separate lines
\textit{Authors of this document:}\\
Carl Rynegardh \\
Daniel Dornlöv \\
Fredrik Månsson \\
Filip Månsson \\
Marcus Hilliges \\
Niklas Ovnell \\
David Cartbo \\
Madeleine Boström \\
Jacob Mejvik \\
Oscar Axelsson \\
Daniel Olsson
\end{flushleft}



\end{titlepage}
\pagenumbering{gobble}
\setcounter{tocdepth}{2}
\tableofcontents
\newpage
\pagenumbering{arabic}

\section{Introduction}
This document describes the requirements created for an application to control a MVD according to the instructions provided in the course \textit{Software development for large systems}, ETSN05, at LTH fall 2015.  The application controls sensor devices and a multi-color light bulb.
\section{Reference documents}
Reference document: PUS15001.
\section{Background and goals}
\subsection{Main goals}
The main goal of this application is to provide a user-interface to remotely control and read data from a number of sensors and a light bulb. The user should through the application be able to control a MVD device which in turn communicates with the sensors and the light bulb.
\subsection{Actors and their objectives}

\textbf{User} refers to the end user of the system. The user is be able to interact with devices through the application. 

\section{Terminology}

\textbf{Application} is short for Lamp Controller Android Application which is used as a controller for the light bulbs. The application can be used to scan for devices, communicate with a specific sensor or light bulb. 
\newline \newline
\textbf{Back End} is the endpoint which the app talks to, to control the light bulbs and to get sensor data. Is accessed through a REST API. 
\newline \newline
\textbf{REST API}, representational state transfer application program interface. An HTTP endpoint to which the application talks in HTTP packages in order to communicate with the back end. 
\newline \newline
\textbf{MVD} Minimal viable device to scan for Bluetooth Low Energy (BLE) devices, collect and pass the data to the remote server using MQTT protocol.
\section{Functional requirements}

The application is comprised of three views named MyDevices View, Sensor Device View and Light Bulb View. 

\subsection{Use cases}
\begin{description}
\item[Scenario 5.1.1] Finding devices
\item[Precondition:] There is a light bulb and a temperature sensor within scan range for the MVD. No other detectable devices are within range of the MVD scan.
\begin{enumerate}
\item The user starts the application.
\item The user presses the "Get Devices"-button.
\item \label{1} A list of devices containing only the light bulb and temperature sensor is displayed in the MyDevices View.
\end{enumerate}

\item[Exceptions:]
\begin{itemize}
\item [\ref{1}:] No devices found.
\item The user is notified by the popup message: "No devices found.".
\end{itemize}

\item[]

\item[Scenario 5.1.2] Turning off devices
\item[Precondition:] There is a light bulb in the list on the MyDevice View. The light bulb is turned on.
\item[Postcondition:] The light bulb is turned off.
\begin{enumerate}
\item The user selects the light bulb from the list.
\item \label{2} The user presses the "Controll Device"-button to open the Light Bulb View.
\item  The user sets the onoff-switch to off.
\end{enumerate}

\item[Exceptions:]

\begin{itemize}
\item [\ref{2}:] No device selected.
\item The user is notified by the popup message: "No device selected.".
\end{itemize}

\item[]

\item[Scenario 5.1.3] Changing the color of light bulb
\item[Precondition:] There is a light bulb in the list on the MyDevice View. The light bulb is turned on with color \#FF0000.
\item[Postcondition:] The light bulb has color \#00FF00.
\begin{enumerate}
\item The user selects the light bulb from the list.
\item \label{3} The user presses the "Controll Device"-button to open the Light Bulb View.
\item  \label{4} The user sets the R-field to 00, the G-field to FF and the B-field to 00 and the W-field to XX.
\item The user presses the "Set"-button.

\end{enumerate}

\item[Exceptions:]
\item[]

\begin{itemize}
\item [\ref{3}:] No device selected.
\item The user is notified by the popup message: "No device selected.".
\item [\ref{4}:] One or more fields are empty.
\item The user is notified by the popup message: "Fill in all fields.".

\end{itemize}

\item[]

\item[Scenario 5.1.2] Turning off devices
\item[Precondition:] There is a light bulb in the list on the MyDevice View. The light bulb is turned on.
\item[Postcondition:] The light bulb is turned off.
\begin{enumerate}
\item The user selects the light bulb from the list.
\item \label{5} The user presses the "Controll Device"-button to open the Light Bulb View.
\item  The user sets the onoff-switch to off.
\end{enumerate}

\item[Exceptions:]

\begin{itemize}
\item [\ref{5}:] No device selected.
\item The user is notified by the popup message: "No device selected.".
\end{itemize}

\item[]

\item[Scenario 5.1.4] Getting sensor data
\item[Precondition:] There is a temperatur sensor in the list on the MyDevice View. The sensor is turned on.
\item[Postcondition:] The sensor temperature is displayed in the temperature(T) field.
\begin{enumerate}
\item The user selects the temperatur sensor from the list.
\item \label{6} The user presses the "Controll Device"-button to open the Sensor View.
\item \label{7} The user presses the "Get"-button next to the temperature(T) field.

\end{enumerate}

\item[Exceptions:]
\item[]

\begin{itemize}
\item [\ref{6}:] No device selected.
\item The user is notified by the popup message: "No device selected.".
\end{itemize}

\begin{itemize}
\item [\ref{7}:] No data availible.
\item The user is notified by the popup message: "No sensor data availible.".
\end{itemize}

\item[Requirement 5.1.1:] Scenario 5.1.1 should be supported.
\item[Requirement 5.1.2:] Scenario 5.1.2 should be supported.
\item[Requirement 5.1.3:] Scenario 5.1.3 should be supported.
\item[Requirement 5.1.4:] Scenario 5.1.4 should be supported.

\end{description}

\subsection{The MyDevices View}
\begin{description}
\item[Requirement 5.2.1:] When the application is started the MyDevices View should be opened.

\item[Requirement 5.2.2:] Availble devices should be presented in a scrollable list.

\item[Requirement 5.2.3:] Items in the list should be selectable.

\item[Requirement 5.2.4:] When no device is seleceted the "Controll device"-button is not clickable. 

\item[Requirement 5.2.5:] The number of items in the list of availible devices should be displayed.

\item[Requirement 5.2.6:] When the application is started the list of availible devices is empty.

\item[Requirement 5.2.7:] Availible devices are displayed with their name according to specification XX.

\item[Requirement 5.2.8:] There is a "Get devices"-button that when pressed instructs the MVD to perform a scan for availible devices.

\item[Requirement 5.2.9:] The timeout for the scan is X seconds. 

\end{description}

\subsection{The Sensor View}

\begin{description}
\item[Requirement 5.3.1:] When the "Controll Device"-button in the MyDevices View is clicked while a sensor is selected in the list of availible devices the Sensor View for the selected device is opened. 

\item[Requirement 5.3.2:] The name, according to specification xx, of the selected sensor is shown in the top of the View.

\item[Requirement 5.3.3:] The mac-adress of the selected sensor is shown in the top of the View.

\item[Requirement 5.3.4:] It is possible to change the on/off-status of the selected sensor by a switch.

\item[Requirement 5.3.5:] There is an editable field used to display temperature preceeded by "T:".

\item[Requirement 5.3.6:] There is an editable field used to display pressure preceeded by "P:".

\item[Requirement 5.3.7:] There is an editable field used to display humidity preceeded by "H:".

\item[Requirement 5.3.8:] There is an editable field used to display ?????? preceeded by "M:".

\item[Requirement 5.3.9:] There is an editable field used to display gravity preceeded by "G:".

\item[Requirement 5.3.10:] There is an editable field used to display acceleration preceeded by "A:".

\item[Requirement 5.3.11:] It should be possible to get the value of the T-sensor by pressing a button.

\item[Requirement 5.3.12:] It should be possible to get the value of the P-sensor by pressing a button.

\item[Requirement 5.3.13:] It should be possible to get the value of the H-sensor by pressing a button.

\item[Requirement 5.3.14:] It should be possible to get the value of the M-sensor by pressing a button.

\item[Requirement 5.3.15:] It should be possible to get the value of the G-sensor by pressing a button.

\item[Requirement 5.3.16:] It should be possible to get the value of the A-sensor by pressing a button.

\item[Requirement 5.3.17:] If there is no data to display in the T-field the T-field is empty.

\item[Requirement 5.3.18:] If there is no data to display in the P-field the P-field is empty.

\item[Requirement 5.3.19:] If there is no data to display in the H-field the H-field is empty.

\item[Requirement 5.3.20:] If there is no data to display in the M-field the M-field is empty.

\item[Requirement 5.3.21:] If there is no data to display in the G-field the G-field is empty.

\item[Requirement 5.3.22:] If there is no data to display in the A-field the A-field is empty.

\item[Requirement 5.3.22:] There is a "Get all"-button that gets the value for all availible sensors.

\item[Requirement 5.3.22:] There is a "clear all"-button that sets the value in all the fields specified in requirements 5.3.5 to 5.3.10 to "".

\item[Requirement 5.3.23:] If the "Get"-button for T is pressed while the T sensor is unavailible a popup message "Temperature sensor unavailible" is displayed.

\item[Requirement 5.3.24:] If the "Get"-button for P is pressed while the P sensor is unavailible a popup message "Pressure sensor unavailible" is displayed.

\item[Requirement 5.3.25:] If the "Get"-button for H is pressed while the H sensor is unavailible a popup message "Humidity sensor unavailible" is displayed.

\item[Requirement 5.3.26:] If the "Get"-button for M is pressed while the M sensor is unavailible a popup message "????? sensor unavailible" is displayed.

\item[Requirement 5.3.27:] If the "Get"-button for G is pressed while the G sensor is unavailible a popup message "Gravity sensor unavailible" is displayed.

\item[Requirement 5.3.28:] If the "Get"-button for A is pressed while the A sensor is unavailible a popup message "Acceleration sensor unavailible" is displayed.

\item[Requirement 5.3.29:] The on/off-switch is set according to the information from the REST API.

\item[Requirement 5.3.30:] If the "Get all"-button is pressed while no sensors are availible a popup message "No sensors availible" is displayed.

\item[Requirement 5.3.31:] When the back button is pressed the MyDevices View should be opened. 

\end{description}


\subsection{The Light bulb View}

\begin{description}
\item[Requirement 5.4.1:] When the "Controll Device"-button in the MyDevices View is clicked while a light bulb is selected in the list of availible devices the Light Bulb View for the selected device is opened. 

\item[Requirement 5.4.2:] The name, according to specification xx, of the selected light bulb is shown in the top of the View.

\item[Requirement 5.4.3:] It is possible to change the on/off-status of the selected light bulb with a switch.

\item[Requirement 5.4.4:] There is an editable field used to display the R-value preceeded by "R:".

\item[Requirement 5.4.5:] There is an editable field used to display the G-value preceeded by "G:".

\item[Requirement 5.4.6:] There is an editable field used to display the B-value preceeded by "B:".

\item[Requirement 5.4.7:] There is an editable field used to display the W-value preceeded by "W:".

\item[Requirement 5.4.8] When the View is opened the fields specified in requirements 5.4.3 to 5.4.7 is set according to information from REST API.

\item[Requirment 5.4.9] There is a "Get"-button that retrieves the R,G,B,W values and presents them in the fields specified in requirements 5.4.3 to 5.4.7.

\item[Requirement 5.4.10] There is a "Set"-button that forwards the input values of the fields specified in requirements 5.4.3 to 5.4.7 to the REST API for further forwarding to the MVD and light bulb.

\item[Requirement 5.4.11] If one of the fields specified in requirements 5.4.3 to 5.4.7 is "" while pressing the "Set"-button its value is interpreted as 00.

\item[Requirement 5.4.11] The maximum number of charachters allowed in the fields specified in requirements 5.4.3 to 5.4.7 is two.

\item[Requirement 5.4.12] If the values of the light bulb were successfully set a popup message "Color successfully changed" is displayed.

\item[Requirement 5.4.12] When pressing the "Set"-button the application checks that the input values are within the specified range for the light bulb according to specification xx and displays the message "Input values out of range" if the values of the input is out of the specified range.

\item[Requirement 5.4.13] The "Set"-button is unavalible when the light bulb is turned off.

\item[Requirement 5.4.14] The color of the light bulb is given in hexadecimal numbers.

\item[Requirement 5.4.15:] When the back button is pressed the MyDevices View should be opened.

\end{description}

\section{Quality requirements}

\begin{description}
\item[Requirement 6.1] The layout of the MyDevices View should resemble figure x.
\item[Requirement 6.2] The layout of the Sensor View should resemble figure x.
\item[Requirement 6.3] The layout of the Light Bulb View should resemble figure x.
\item[Requirement 6.4] Nine out of ten people should be able to use the application after five minutes of instruction. 

\end{description}


\section{Project requirements}
\end{document}